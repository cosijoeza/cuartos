var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var BOLT=BOLT||{};!function(e,a){function o(){n=!1}function t(){n=!0}function g(){googletag.cmd.length&&googletag.cmd.length>0&&e.getScript(("https:"==document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js")}if("undefined"!=typeof e){var n,l=e(window);l.on("preventgoogleads disablegoogleads",t).on("enablegoogleads",o).on("googleads",g),a.triggerGoogleAds=function(){n||(n=!0,l.trigger("googleads"))}}}(window.jQuery,BOLT);var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var BOLT=BOLT||{};!function(e){function a(e){var a=document.getElementById("optimizely-disable-banner-ids");if(a){var o=JSON.parse(a.dataset.slotids)||[];if(-1!==o.indexOf(e))return!0}return!1}function o(){null!==l||n||(l=window.setTimeout(function(){l=null,t()},i))}function t(){e._lazyLoadBannerSlots.forEach(function(e){if(!e.params.isDisabled){var a=e.params.lazyLoad;if(a&&!e.isLazyLoaded){var o=document.getElementById(a)||document.getElementById(e.params.slotId);if(o){var t=o.getBoundingClientRect();if(t&&t.top+(e.params.lazyLoadOffset||0)>=document.documentElement.clientHeight)return}e.isLazyLoaded=!0,googletag.pubads().refresh([e])}}}),g()}function g(){e._lazyLoadBannerSlots.every(function(e){return!e.params.lazyLoad||e.isLazyLoaded})&&(n=!0)}e.displayBanner=function(e){googletag.cmd.push(function(){var a=googletag.defineSlot(e.accId,e.slotDim,e.slotId);e.pos&&a.setTargeting("pos",e.pos.toString()),e.pf&&a.setTargeting("pf",e.pf),e.tile&&a.setTargeting("tile",e.tile),e.adPos&&a.setTargeting("adpos",e.adPos),e.price&&(a.setTargeting("price",e.price),a.setTargeting("currency",e.currency)),e.slotRenderEnded_callback&&googletag.pubads().addEventListener("slotRenderEnded",function(o){e.slotRenderEnded_callback(o,a)}),a.addService(googletag.pubads()).setCollapseEmptyDiv(!0).setTargeting("loc",e.loc).setTargeting("kw",e.kw).setTargeting("dc_ref",e.dc_ref).setTargeting("ptype",e.ptype).setTargeting("login",e.login),googletag.pubads(),googletag.enableServices()}),googletag.cmd.push(function(){googletag.display(e.slotId)})},e.displaySkinCampaign=function(e){googletag.cmd.push(function(){googletag.defineSlot(e.accId,e.slotDim,e.slotId),googletag.defineOutOfPageSlot(e.accId,e.slotId).addService(googletag.pubads()).setTargeting("loc",e.loc).setTargeting("kw",e.kw).setTargeting("dc_ref",e.dc_ref).setTargeting("ptype",e.ptype).setTargeting("tile",e.tile).setTargeting("pos",e.pos),googletag.enableServices()}),googletag.cmd.push(function(){googletag.display(e.slotId)})},e.displayBannerV2=function(e){googletag.cmd.push(function(){var a=googletag.defineSlot(e.accId,e.slotDim,e.slotId);(e.pos||0===e.pos)&&a.setTargeting("pos",e.pos.toString()),e.pf&&a.setTargeting("pf",e.pf),e.tile&&a.setTargeting("tile",e.tile),e.adPos&&a.setTargeting("adpos",e.adPos),e.price&&(a.setTargeting("price",e.price),a.setTargeting("currency",e.currency)),e.slotRenderEnded_callback&&googletag.pubads().addEventListener("slotRenderEnded",function(o){e.slotRenderEnded_callback(o,a)}),a.addService(googletag.pubads()).setCollapseEmptyDiv(!0),a.addService(googletag.pubads().setTargeting("loc",e.loc)),a.addService(googletag.pubads().setTargeting("kw",e.kw)),a.addService(googletag.pubads().setTargeting("dc_ref",e.dc_ref)),a.addService(googletag.pubads().setTargeting("ptype",e.ptype)),a.addService(googletag.pubads().setTargeting("login",e.login)),["make","model","bedroom","fsb","pricerange"].forEach(function(o){e[o]&&a.addService(googletag.pubads().setTargeting(o,e[o]))}),googletag.pubads().enableSingleRequest(),googletag.enableServices()})},e.displaySlot=function(e){googletag.cmd.push(function(){googletag.display(e)})},e._lazyLoadBannerSlots=[];var n=!1;e.defineLazyLoadBanner=function(o){a(o.slotId)||0===e._lazyLoadBannerSlots.filter(function(e){return e.params.slotId===o.slotId}).length&&(n=!1,googletag.cmd.push(function(){var a=googletag.defineSlot(o.accId,o.slotDim,o.slotId);if(["pos","pf","tile","adPos","placement"].forEach(function(e){var t=o[e];null!=t&&a.setTargeting(e.toLowerCase(),t.toString())}),null!=o.price&&(a.setTargeting("price",o.price.toString()),null!=o.currency&&a.setTargeting("currency",o.currency.toString())),o.sizeMapping){var t=googletag.sizeMapping();o.sizeMapping.forEach(function(e){t.addSize(e.breakpoint,e.slotSizes)}),a.defineSizeMapping(t.build())}o.slotRenderEnded_callback&&googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot===a&&o.slotRenderEnded_callback(e)}),a.addService(googletag.pubads()),o.keepSpace||a.setCollapseEmptyDiv(!0,!0),a.params=o,e._lazyLoadBannerSlots.push(a)}))},e.defineLazyLoadSkinCampaign=function(a){googletag.cmd.push(function(){var o=googletag.defineOutOfPageSlot(a.accId,a.slotId);["pos","pf","tile","adPos"].forEach(function(e){var t=a[e];null!=t&&o.setTargeting(e.toLowerCase(),t.toString())}),o.addService(googletag.pubads()),o.params=a,e._lazyLoadBannerSlots.push(o)})},e.initializeLazyLoadBanners=function(a){googletag.cmd.push(function(){["loc","kw","dc_ref","ptype","login","v","make","model","bedroom","fsb","pricerange","test"].forEach(function(e){null!=a[e]&&googletag.pubads().setTargeting(e.toLowerCase(),a[e].toString())});var g=e._lazyLoadBannerSlots.some(function(e){return e.params.skin});if(g||googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),g)return void e._lazyLoadBannerSlots.forEach(function(e){googletag.display(e.params.slotId)});var n=[];e._lazyLoadBannerSlots.forEach(function(e){var a=e.params.lazyLoad;(!a||g)&&(n.push(e),googletag.display(e.params.slotId))}),n.length&&googletag.pubads().refresh(n.filter(function(e){return!e.params.skin})),e._lazyLoadBannerSlots.forEach(function(e){var a=e.params.lazyLoad;a&&(e.isLazyLoaded=!1,googletag.display(e.params.slotId))}),window.addEventListener("scroll",o),t()})},e.isSlotIdDisabled=a;var l=null,i=50;e.lazyLoadBannerById=function(a){googletag.cmd.push(function(){var o=e._lazyLoadBannerSlots.filter(function(e){return e.params.slotId===a}),t=o&&o[0];(t||n)&&(t.isLazyLoaded=!0,googletag.pubads().refresh([t]),g())})}}(BOLT);